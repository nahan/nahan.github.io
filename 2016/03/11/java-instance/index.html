<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Install Java on AWS instance and use Java | Hunter's Code</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Install Java on AWS instance and use Java</h1><a id="logo" href="/.">Hunter's Code</a><p class="description">你好，我是纳罕。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Install Java on AWS instance and use Java</h1><div class="post-meta">Mar 11, 2016<span> | </span><span class="category"><a href="/categories/15619/">15619</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>First we launch an AWS instance using <code>Amazon Linux AMI</code>.<br><img src="\img\20160311\ami.png" alt="Choosing Amazon Machine Image"><br>Then, login to the instance.<br><img src="\img\20160311\ssh.png" alt="SSH"><br>As is shown on the terminal, we can run <code>sudo yum update</code> to apply all updates. If we enter this command, a sort of updates will be listed.<br><img src="\img\20160311\update.png" alt="Update"><br>Then enter “y” to continue and complete the update.</p>
<h3 id="Check-Java-using-java-and-javac"><a href="#Check-Java-using-java-and-javac" class="headerlink" title="Check Java using java and javac"></a>Check Java using <code>java</code> and <code>javac</code></h3><p>When we enter <code>java</code> and <code>javac</code> respectively we got two messages returned:<br><img src="\img\20160311\java.png" alt="java &amp; javac"><br>For most AWS instances, there are JRE installed on them, that means we can run java program on them. However, some AWS instances do not have JDK, so that we need to install JDK manually by running:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> <span class="keyword">java</span>-devel</span><br></pre></td></tr></table></figure></p>
<p><img src="\img\20160311\install-jdk.png" alt="Install JDK"><br>Now we can use <code>javac</code> to compile our java classes.</p>
<h3 id="Edit-Java-class-using-vim-and-execute-Java-program"><a href="#Edit-Java-class-using-vim-and-execute-Java-program" class="headerlink" title="Edit Java class using vim and execute Java program"></a>Edit Java class using <code>vim</code> and execute Java program</h3><p>We can use <code>vim</code> to create a java file on the instance. For example, we want to create a java class named “Hello.java” to print “Hello World!” on the screen. We can run the following command:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">vim</span> <span class="selector-tag">Hello</span><span class="selector-class">.java</span></span><br></pre></td></tr></table></figure></p>
<p>It will create a file named “Hello.java” under the current directory, and swith to the viewing model:<br><img src="\img\20160311\create-java.png" alt="What you will see after running &quot;vim Hello.java&quot;"><br>By typing <code>i</code>, you enter to the editing model. Now type the following codes:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Then type <code>Esc</code> to escape the editing model and input <code>:w</code> to save the content and input <code>:q</code> to quit.<br><img src="\img\20160311\java-code.png" alt="Edit, escape, write and quite"><br>Now we are ready to compile the java file and run it:<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">javac </span>Hello.<span class="keyword">java</span><br><span class="line"></span><span class="keyword">java </span>Hello</span><br></pre></td></tr></table></figure></p>
<p><img src="\img\20160311\run-java.png" alt="Execute the Java program"></p>
<h3 id="Upgrade-Java-version-on-the-AWS-instance"><a href="#Upgrade-Java-version-on-the-AWS-instance" class="headerlink" title="Upgrade Java version on the AWS instance"></a>Upgrade Java version on the AWS instance</h3><p>In some situation we always edit the java files and compile them on our local machine, then we export them as <code>.jar</code> files or <code>.war</code> files and deploy them on the AWS instance. But if the version of Java on our local machine is higher than the instance’s, then an issure of uncompatible can be occured, which means we need to upgrade the Java version on the AWS instance. There are two things to do:</p>
<ul>
<li>install the same version of Java to the AWS instance as we use on our local machine;</li>
<li>update the current Java to the new installed version;</li>
</ul>
<p>First, if your local Java version is 1.8.0 whereas the Java version on the instance is 1.7.0:<br><img src="\img\20160311\java1.7.png" alt="Check Java version before installation"><br>Run the following command:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">sudo</span> <span class="selector-tag">yum</span> <span class="selector-tag">install</span> <span class="selector-tag">java-1</span><span class="selector-class">.8</span><span class="selector-class">.0-openjdk</span></span><br></pre></td></tr></table></figure></p>
<p>After install the higher version of Java, the current version is still the old one:<br><img src="\img\20160311\java-old-version.png" alt="Check Java version after installation"><br>Then we need to change it by using following command:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="keyword">update</span>-alternatives <span class="comment">--config java</span></span><br></pre></td></tr></table></figure></p>
<p><img src="\img\20160311\show-java-version.png" alt="Change current selection of Java"><br>As we can see from the terminal, it asks us to enter the selection:</p>
<blockquote>
<p>Enter to keep the current selection[+], or type selection number:</p>
</blockquote>
<p>In this case we enter: 2, and the version of Java on the instance is switched to 1.8.0.<br><img src="\img\20160311\java-new-version.png" alt="Check Java version after configuration"></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://nahan.github.io/2016/03/11/java-instance/" data-id="ciloc1wq00000bwe9vlyybnun" class="article-share-link">Share</a><div class="tags"><a href="/tags/aws/">aws</a><a href="/tags/java/">java</a><a href="/tags/linux/">linux</a></div><div class="post-nav"><a href="/2016/03/11/leetcode-336-palindrome-pairs/" class="next">Solution - LeetCode 336. Palindrome Pairs</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://nahan.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/15619/">15619</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志/">日志</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/chinese/" style="font-size: 15px;">chinese</a> <a href="/tags/untech/" style="font-size: 15px;">untech</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/aws/" style="font-size: 15px;">aws</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/03/11/java-instance/">Install Java on AWS instance and use Java</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/11/leetcode-336-palindrome-pairs/">Solution - LeetCode 336. Palindrome Pairs</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/10/ssh-instance/">SSH to the Remote AWS Instance and Security Copy Files</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/10/first-post/">自序</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/10/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="https://github.com/nahan/" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://www.linkedin.com/in/linkedhan/" title="LinkedIn" target="_blank">LinkedIn</a><ul></ul><a href="https://www.facebook.com/profile.php?id=100002290671587/" title="Facebook" target="_blank">Facebook</a><ul></ul><a href="http://weibo.com/hosseni/" title="Weibo" target="_blank">Weibo</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Hunter's Code.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>